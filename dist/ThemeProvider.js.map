{"version":3,"file":"ThemeProvider.js","mappings":"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","sources":["webpack://monday-style/webpack/universalModuleDefinition","webpack://monday-style/./src/components/ThemeProvider/ThemeProvider.tsx","webpack://monday-style/./src/components/ThemeProvider/ThemeProviderConstants.ts","webpack://monday-style/./src/components/ThemeProvider/ThemeProviderUtils.ts","webpack://monday-style/./src/style-imports.ts","webpack://monday-style/./src/types/index.ts","webpack://monday-style/./src/types/withStaticProps.ts","webpack://monday-style/external umd \"react\"","webpack://monday-style/./node_modules/classnames/index.js","webpack://monday-style/webpack/bootstrap","webpack://monday-style/webpack/runtime/make namespace object","webpack://monday-style/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"monday-style\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"monday-style\"] = factory(root[\"react\"]);\n})(this, (__WEBPACK_EXTERNAL_MODULE__8156__) => {\nreturn ","import cx from \"classnames\";\r\nimport React, { FC, ReactElement, useEffect, useMemo, useState } from \"react\";\r\nimport { SystemTheme, Theme, ThemeColor } from \"./ThemeProviderConstants\";\r\nimport { generateRandomAlphaString, generateThemeCssOverride, shouldGenerateTheme } from \"./ThemeProviderUtils\";\r\nimport { withStaticProps } from \"../../types\";\r\n\r\nexport interface ThemeProviderProps {\r\n  /**\r\n   * The theme to apply, consists of name - name of css class that will be added to the children, which should be unique - and the object of colors overrides for each system theme.\r\n   */\r\n  theme?: Theme;\r\n  /**\r\n   * The children to render with the theme\r\n   */\r\n  children: ReactElement;\r\n  /**\r\n   * String which adds up to theme name selector to make it more specific (in case if theme.name is colliding with some other class name)\r\n   */\r\n  themeClassSpecifier?: string;\r\n}\r\n\r\nconst ThemeProvider: FC<ThemeProviderProps> & {\r\n  systemThemes?: typeof SystemTheme;\r\n  colors?: typeof ThemeColor;\r\n} = ({ theme, children, themeClassSpecifier: customThemeClassSpecifier }) => {\r\n  const [stylesLoaded, setStylesLoaded] = useState(false);\r\n  const themeClassSpecifier = useMemo(\r\n    () => customThemeClassSpecifier || generateRandomAlphaString(),\r\n    [customThemeClassSpecifier]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!shouldGenerateTheme(theme)) {\r\n      return;\r\n    }\r\n    if (document.getElementById(theme.name)) {\r\n      setStylesLoaded(true);\r\n      return;\r\n    }\r\n\r\n    const styleElement = document.createElement(\"style\");\r\n    styleElement.type = \"text/css\";\r\n    styleElement.id = theme.name;\r\n    const themeCssOverride = generateThemeCssOverride(theme, themeClassSpecifier);\r\n\r\n    try {\r\n      styleElement.appendChild(document.createTextNode(themeCssOverride));\r\n      document.head.appendChild(styleElement);\r\n      setStylesLoaded(true);\r\n    } catch (error) {\r\n      console.error(\"vibe ThemeProvider: error inserting theme-generated css - \", error);\r\n    }\r\n\r\n    return () => {\r\n      document.head.removeChild(styleElement);\r\n    };\r\n  }, [themeClassSpecifier, theme]);\r\n\r\n  if (!stylesLoaded && shouldGenerateTheme(theme)) {\r\n    // Waiting for styles to load before children render\r\n    return null;\r\n  }\r\n\r\n  // Pass the theme name as a class to the children - to scope the effect of the theme\r\n  return React.cloneElement(children, {\r\n    className: cx(theme?.name, themeClassSpecifier, children?.props?.className)\r\n  });\r\n};\r\n\r\nexport default withStaticProps(ThemeProvider, {\r\n  systemThemes: SystemTheme,\r\n  colors: ThemeColor\r\n});\r\n","/**\r\n * System themes: dark, light, black, hacker\r\n */\r\nexport enum SystemTheme {\r\n  LIGHT = \"light\",\r\n  DARK = \"dark\",\r\n  BLACK = \"black\"\r\n}\r\n\r\n/**\r\n * Colors which are eligible for theming\r\n */\r\nexport enum ThemeColor {\r\n  primaryColor = \"primary-color\",\r\n  primaryHoverColor = \"primary-hover-color\",\r\n  primarySelectedColor = \"primary-selected-color\",\r\n  primarySelectedHoverColor = \"primary-selected-hover-color\",\r\n  primarySelectedOnSecondaryColor = \"primary-selected-on-secondary-color\",\r\n  textColorOnPrimary = \"text-color-on-primary\",\r\n  brandColor = \"brand-color\",\r\n  brandHoverColor = \"brand-hover-color\",\r\n  brandSelectedColor = \"brand-selected-color\",\r\n  brandSelectedHoverColor = \"brand-selected-hover-color\",\r\n  textColorOnBrand = \"text-color-on-brand\"\r\n}\r\n\r\nexport type Theme = {\r\n  /**\r\n   * The name of the theme - name of css class that will be added to the children - should be unique\r\n   */\r\n  name: string;\r\n  colors: SystemThemeColorMap;\r\n};\r\n\r\ntype SystemThemeColorMap = {\r\n  [key in SystemTheme]?: ThemeColorTokenValueMap;\r\n};\r\n\r\nexport type ThemeColorTokenValueMap = ThemeColorTokenValue | ThemeCustomClassValue;\r\n\r\nexport type ThemeColorTokenValue = {\r\n  [key in ThemeColor]?: string;\r\n};\r\n\r\ntype ThemeCustomClassValue = {\r\n  [key: string]: ThemeColorTokenValue | ThemeCustomClassValue;\r\n};\r\n\r\nexport const SystemThemeClassMap: SystemThemeClassMapType = {\r\n  [SystemTheme.LIGHT]: \"light-app-theme\",\r\n  [SystemTheme.DARK]: \"dark-app-theme\",\r\n  [SystemTheme.BLACK]: \"black-app-theme\"\r\n};\r\n\r\ntype SystemThemeClassMapType = {\r\n  [key in SystemTheme]: string;\r\n};\r\n","import { Theme, ThemeColorTokenValueMap, SystemTheme, SystemThemeClassMap } from \"./ThemeProviderConstants\";\r\n\r\nconst generateCss = (object: ThemeColorTokenValueMap, stack: string, parentSelector: string) => {\r\n  for (const key of Object.keys(object)) {\r\n    if (typeof object[key as keyof ThemeColorTokenValueMap] === \"string\") {\r\n      stack += `--${key}: ${object[key as keyof ThemeColorTokenValueMap]};`;\r\n    }\r\n  }\r\n\r\n  if (stack !== \"\") {\r\n    stack = parentSelector + \" {\" + stack + \"}\";\r\n  }\r\n\r\n  for (const key of Object.keys(object)) {\r\n    if (typeof object[key as keyof ThemeColorTokenValueMap] === \"object\") {\r\n      const selector = `${parentSelector} .${key}`;\r\n      stack +=\r\n        \"\\n\" + generateCss(object[key as keyof ThemeColorTokenValueMap] as ThemeColorTokenValueMap, \"\", selector);\r\n    }\r\n  }\r\n\r\n  return stack;\r\n};\r\n\r\nexport const shouldGenerateTheme = (theme: Theme) => {\r\n  return !!theme?.colors && !!theme?.name;\r\n};\r\n\r\nexport const generateThemeCssOverride = (theme: Theme, themeClassSpecifier: string) => {\r\n  if (!shouldGenerateTheme(theme)) {\r\n    return null;\r\n  }\r\n\r\n  let css = \"\";\r\n  for (const systemTheme of Object.keys(theme.colors) as SystemTheme[]) {\r\n    css +=\r\n      generateCss(\r\n        theme.colors[systemTheme],\r\n        \"\",\r\n        `.${SystemThemeClassMap[systemTheme]} .${themeClassSpecifier}.${theme.name}`\r\n      ) + \"\\n\";\r\n  }\r\n\r\n  return css;\r\n};\r\n\r\nexport const generateRandomAlphaString = (length = 6) => {\r\n  let result = \"\";\r\n  const characters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\";\r\n\r\n  for (let i = 0; i < length; i++) {\r\n    result += characters.charAt(Math.floor(Math.random() * characters.length));\r\n  }\r\n\r\n  return result;\r\n};\r\n","import \"monday-ui-style/dist/index.min.css\";\r\n","export * from \"./events\";\r\nexport * from \"./positions\";\r\nexport * from \"./SubIcon\";\r\nexport { default as VibeComponent } from \"./VibeComponent\";\r\nexport { default as VibeComponentProps } from \"./VibeComponentProps\";\r\nexport * from \"./withStaticProps\";\r\nexport * from \"./ArrayLastElement\";\r\nexport * from \"./SplitString\";\r\nexport * from \"./ElementContent\";\r\nexport * from \"./ValueOf\";\r\n","import VibeComponent from \"./VibeComponent\";\r\nimport React from \"react\";\r\n\r\ntype Required<T> = {\r\n  [P in keyof T]-?: T[P];\r\n};\r\n\r\nexport const withStaticProps = <T, P, S>(\r\n  forwarded: (VibeComponent<T, P> & Partial<S>) | (React.FC<T> & Partial<S>),\r\n  staticProps: Required<S>\r\n) => Object.assign(forwarded, staticProps);\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__8156__;","/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = '';\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (arg) {\n\t\t\t\tclasses = appendClass(classes, parseValue(arg));\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction parseValue (arg) {\n\t\tif (typeof arg === 'string' || typeof arg === 'number') {\n\t\t\treturn arg;\n\t\t}\n\n\t\tif (typeof arg !== 'object') {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (Array.isArray(arg)) {\n\t\t\treturn classNames.apply(null, arg);\n\t\t}\n\n\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\treturn arg.toString();\n\t\t}\n\n\t\tvar classes = '';\n\n\t\tfor (var key in arg) {\n\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\tclasses = appendClass(classes, key);\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction appendClass (value, newClass) {\n\t\tif (!newClass) {\n\t\t\treturn value;\n\t\t}\n\t\n\t\tif (value) {\n\t\t\treturn value + ' ' + newClass;\n\t\t}\n\t\n\t\treturn value + newClass;\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n__webpack_require__(41921);\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(2230);\n"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE__8156__","withStaticProps","theme","children","themeClassSpecifier","customThemeClassSpecifier","stylesLoaded","setStylesLoaded","useState","useMemo","generateRandomAlphaString","useEffect","shouldGenerateTheme","document","getElementById","name","styleElement","createElement","type","id","themeCssOverride","generateThemeCssOverride","appendChild","createTextNode","head","error","console","removeChild","cloneElement","className","props","systemThemes","SystemTheme","colors","ThemeColor","SystemThemeClassMap","LIGHT","DARK","BLACK","generateCss","object","stack","parentSelector","key","Object","keys","selector","css","systemTheme","length","result","characters","i","charAt","Math","floor","random","forwarded","staticProps","assign","hasOwn","hasOwnProperty","classNames","classes","arguments","arg","appendClass","parseValue","Array","isArray","apply","toString","prototype","includes","call","value","newClass","default","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","r","Symbol","toStringTag","defineProperty"],"sourceRoot":""}